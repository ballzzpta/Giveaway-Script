{"name":"Giveaway script","description":"Single winner giveaway script with variable timer & 60 second claim conformation. Duration of giveaway based on argument from start command. If winner doesn't claim in 60 seconds, it draws another winner. Once claimed, it shuts down. Can be forced to stop by permissions. \nUses !enter, !leave, !claim, !giveaway start {#}, !giveaway end, !ga start {#} !ga end as its command syntax, please make sure you disable any of those before you install this.\n\n!enter - allows for users to enter the giveaway\n!leave - allows the user to leave the giveaway\n!claim - allows the current winner to claim the prize and properly shuts down the script\n!giveaway start {#} or !ga start {#} - allows you to start a giveaway with # in minutes you want the giveaway to run for, (!ga start 5) will start a giveaway for 5 minutes\n!giveaway end or !ga end forcefully closes the giveaway without choosing a winner and properly shuts the script down to allow it to run again.","version":3.2,"author":"ballzzpta","components":{"commands":[{"active":true,"simple":false,"sendCooldownMessage":true,"cooldownMessage":"This command is still on cooldown for: {timeLeft}","cooldown":{},"effects":{"id":"a5062190-fb6d-45db-9d72-4d24b3e7cd3a","list":[{"id":"8a14e5f0-a749-11ed-ad53-3ffcd578c733","type":"firebot:conditional-effects","active":true,"ifs":[{"conditionData":{"mode":"exclusive","conditions":[{"type":"firebot:custom","comparisonType":"is","value":null,"leftSideValue":"$commandTrigger","rightSideValue":"!enter"}]},"effectData":{"list":[{"id":"79875010-a7df-11ed-a4b4-2967d01eb3a3","type":"firebot:run-effect-list","active":true,"listType":"preset","presetListArgs":{"user":"$username","streamer":"$streamer","filePath":"C:\\Users\\ballz\\Desktop\\clipstest","fileName":"gaContestants.txt","arg":"$commandTrigger"},"effectList":{"list":[],"id":"798a0f30-a7df-11ed-a4b4-2967d01eb3a3"},"presetListId":"e762f990-a447-11ed-aa10-1fde4e7052b2","dontWait":false,"effectLabel":"giveAway-Script"}],"id":"8a1a8b40-a749-11ed-ad53-3ffcd578c733"}},{"conditionData":{"mode":"exclusive","conditions":[{"type":"firebot:custom","comparisonType":"is","value":null,"leftSideValue":"$commandTrigger","rightSideValue":"!claim"}]},"effectData":{"list":[{"id":"f9a00e40-a811-11ed-a265-c174ad2dc305","type":"firebot:conditional-effects","active":true,"ifs":[{"conditionData":{"mode":"exclusive","conditions":[{"type":"firebot:viewerroles","comparisonType":"has role","value":null,"leftSideValue":"$username","rightSideValue":"e67d7000-a451-11ed-aa10-1fde4e7052b2"}]},"effectData":{"list":[{"id":"0b4348b0-a812-11ed-a265-c174ad2dc305","type":"firebot:run-effect-list","active":true,"listType":"preset","presetListArgs":{"arg":"$commandTrigger"},"effectList":{"list":[],"id":"0b45b9b0-a812-11ed-a265-c174ad2dc305"},"presetListId":"5a4b97c0-a810-11ed-a265-c174ad2dc305","bubbleOutputs":true,"effectLabel":"clean up"}],"id":"f9a369a0-a811-11ed-a265-c174ad2dc305"},"label":"winner is correct"}],"otherwiseEffectData":{"list":[{"id":"18910bb0-a812-11ed-a265-c174ad2dc305","type":"firebot:chat","active":true,"chatter":"Bot","message":"$username, you did not win.","effectLabel":"not winner"}],"id":"f9a20a10-a811-11ed-a265-c174ad2dc305"},"otherwiseLabel":"winner is not correct","effectLabel":"winner check"}],"id":"ceef64c0-a749-11ed-ad53-3ffcd578c733"}},{"conditionData":{"mode":"exclusive","conditions":[{"type":"firebot:custom","comparisonType":"is","value":null,"leftSideValue":"$commandTrigger","rightSideValue":"!leave"}]},"effectData":{"list":[{"id":"e3ede860-d93f-11ed-83a7-eb98588ba52e","type":"firebot:update-roles","active":true,"viewerType":"current","removeRoleId":"9cbf47b0-a44a-11ed-aa10-1fde4e7052b2"},{"id":"ed9315c0-d93f-11ed-83a7-eb98588ba52e","type":"firebot:chat","active":true,"chatter":"Bot","message":"$username you have successfully removed yourself from the giveaway."}],"id":"219a18a0-1c5c-11ee-8c34-c39580b667e1"}}],"otherwiseEffectData":{"list":[],"id":"8a186860-a749-11ed-ad53-3ffcd578c733"}}]},"restrictionData":{"restrictions":[],"mode":"all","sendFailMessage":true,"failMessage":"Sorry, you cannot use this command because: {reason}"},"aliases":["!ga","!enter","!claim","!leave"],"sortTags":[],"treatQuotedTextAsSingleArg":false,"trigger":"!giveaway","subCommands":[{"active":true,"id":"0759c740-1de2-448b-b21b-3aa1a0feff22","type":"Custom","arg":"start","regex":false,"fallback":false,"restrictionData":{"restrictions":[{"id":"9a8c4a50-a7e8-11ed-a4b4-2967d01eb3a3","type":"firebot:permissions","mode":"roles","roleIds":["broadcaster","mod"]}],"mode":"all","sendFailMessage":true,"useCustomFailMessage":true,"failMessage":"{user}, only Moderators can use this command"},"effects":{"list":[{"id":"9abc41b0-a7ed-11ed-a4b4-2967d01eb3a3","type":"firebot:chat","active":true,"chatter":"Bot","message":"A giveaway has started. You have $arg[2] minutes to enter. Type !enter for your chance to win. $runEffect[``{\"id\":\"a4ac76c0-a448-11ed-aa10-1fde4e7052b2\",\"type\":\"firebot:customvariable\",\"active\":true,\"ttl\":$math[$arg[2]*60],\"name\":\"giveawayRunning\",\"variableData\":\"true\"}``]"}],"id":"c2e84a70-a447-11ed-aa10-1fde4e7052b2"},"minArgs":2},{"active":true,"id":"9ac0a48d-d3c5-48a8-ab78-68316589019c","type":"Custom","arg":"end","regex":false,"fallback":false,"restrictionData":{"restrictions":[{"id":"cde658f0-a7e8-11ed-a4b4-2967d01eb3a3","type":"firebot:permissions","mode":"roles","roleIds":["mod","broadcaster"]}],"mode":"all","sendFailMessage":true,"useCustomFailMessage":true,"failMessage":"{user}, only moderators can use this command"},"effects":{"list":[{"id":"322e68a0-a44e-11ed-aa10-1fde4e7052b2","type":"firebot:run-effect-list","active":true,"listType":"preset","presetListArgs":{"arg":""},"effectList":{"list":[],"id":"32319cf0-a44e-11ed-aa10-1fde4e7052b2"},"presetListId":"5a4b97c0-a810-11ed-a265-c174ad2dc305"}],"id":"d34bd8f0-a447-11ed-aa10-1fde4e7052b2"}}],"id":"e34b2760-a447-11ed-aa10-1fde4e7052b2","createdBy":"ballzzpta","createdAt":"2023-02-03T23:53:38-05:00","count":10,"lastEditBy":"Streamer","lastEditAt":"2023-07-06T20:23:16-04:00"}],"counters":[],"currencies":[],"effectQueues":[],"events":[{"name":"giveawayRunning","active":true,"cached":true,"sortTags":[],"eventId":"custom-variable-expired","sourceId":"firebot","effects":{"list":[{"id":"e33fee30-a7f4-11ed-a4b4-2967d01eb3a3","type":"firebot:customvariable","active":true,"ttl":null,"name":"giveawayEnded","variableData":"ended"},{"id":"8f7010b0-a811-11ed-a265-c174ad2dc305","type":"firebot:toggle-timer","active":true,"selectedTimerId":"cb6b0770-a7e2-11ed-8ca2-0937c6eeafde","toggleType":"enable"},{"id":"e33fee31-a7f4-11ed-a4b4-2967d01eb3a3","type":"firebot:run-effect-list","active":true,"listType":"preset","presetListArgs":{"filePath":"C:\\Users\\ballz\\Desktop\\clipstest","fileName":"gaContestants.txt"},"effectList":{"list":[],"id":"ef7a9300-a450-11ed-aa10-1fde4e7052b2"},"presetListId":"50d2d190-a810-11ed-a265-c174ad2dc305"}],"id":"08132f80-a7f3-11ed-a4b4-2967d01eb3a3"},"filterData":{"mode":"exclusive","filters":[{"type":"firebot:custom-variable-name","comparisonType":"is","value":"giveawayRunning"}]},"id":"5d2809f0-a7f3-11ed-a4b4-2967d01eb3a3"}],"eventGroups":[],"hotkeys":[],"presetEffectLists":[{"name":"giveAway-script","effects":{"list":[{"id":"66147ce0-a449-11ed-aa10-1fde4e7052b2","type":"firebot:conditional-effects","active":true,"ifs":[{"conditionData":{"mode":"exclusive","conditions":[{"type":"firebot:custom","comparisonType":"is","value":null,"leftSideValue":"$$giveawayRunning","rightSideValue":"true"}]},"effectData":{"list":[{"id":"9ceba450-a449-11ed-aa10-1fde4e7052b2","type":"firebot:conditional-effects","active":true,"ifs":[{"conditionData":{"mode":"exclusive","conditions":[{"type":"firebot:followcheck","comparisonType":"follows","value":null,"rightSideValue":"$#streamer"}]},"effectData":{"list":[{"id":"6e0d6460-a44a-11ed-aa10-1fde4e7052b2","type":"firebot:conditional-effects","active":true,"ifs":[{"conditionData":{"mode":"exclusive","conditions":[{"type":"firebot:viewerroles","comparisonType":"doesn't have role","value":null,"leftSideValue":"$#user","rightSideValue":"9cbf47b0-a44a-11ed-aa10-1fde4e7052b2"}]},"effectData":{"list":[{"id":"f715f560-a44a-11ed-aa10-1fde4e7052b2","type":"firebot:chat","active":true,"chatter":"Bot","message":"$#user, you have successfully entered the giveaway. Good luck","effectLabel":"chat Conformation"},{"id":"08fc2c40-a44b-11ed-aa10-1fde4e7052b2","type":"firebot:update-roles","active":true,"viewerType":"custom","addRoleId":"9cbf47b0-a44a-11ed-aa10-1fde4e7052b2","customViewer":"$#user","effectLabel":"assign role giveaway-Contestant"}],"id":"6e11d130-a44a-11ed-aa10-1fde4e7052b2"},"label":"not entered = true"}],"otherwiseEffectData":{"list":[{"id":"cc925270-a44a-11ed-aa10-1fde4e7052b2","type":"firebot:chat","active":true,"chatter":"Bot","message":"$#user, you may only enter the giveaway one time."}],"id":"6e0ffc70-a44a-11ed-aa10-1fde4e7052b2"},"otherwiseLabel":"entered = true"}],"id":"9cf0fb80-a449-11ed-aa10-1fde4e7052b2"},"label":"follow streamer = true"}],"otherwiseEffectData":{"list":[{"id":"b61264a0-a449-11ed-aa10-1fde4e7052b2","type":"firebot:chat","active":true,"chatter":"Bot","message":"Sorry $#user, only followers of $#streamer can enter giveaways."}],"id":"9cef26c0-a449-11ed-aa10-1fde4e7052b2"},"otherwiseLabel":"follow streamer = false"}],"id":"661b5ab0-a449-11ed-aa10-1fde4e7052b2"},"label":"giveaway = true"}],"otherwiseEffectData":{"list":[{"id":"0203ebe0-a44a-11ed-aa10-1fde4e7052b2","type":"firebot:chat","active":true,"chatter":"Bot","message":"$#user, there isn't a giveaway currently running."}],"id":"6618c2a0-a449-11ed-aa10-1fde4e7052b2"},"otherwiseLabel":"giveaway = false"}],"id":"e76320a0-a447-11ed-aa10-1fde4e7052b2"},"args":[{"name":"user"},{"name":"streamer"}],"sortTags":[],"id":"e762f990-a447-11ed-aa10-1fde4e7052b2"},{"name":"gaWinner","effects":{"list":[{"id":"99bc6dc0-a8c5-11ed-bd9d-b11002c9c945","type":"firebot:conditional-effects","active":true,"ifs":[{"conditionData":{"mode":"exclusive","conditions":[{"type":"firebot:custom","comparisonType":"is greater than or equal to","value":null,"leftSideValue":"$customRoleUserCount[giveaway-Winner-Old]","rightSideValue":"0"},{"type":"firebot:custom","comparisonType":"is","value":null,"leftSideValue":"$customRoleUserCount[giveaway-Contestant]","rightSideValue":"0"}]},"effectData":{"list":[{"id":"ea5c88f1-a8c5-11ed-bd9d-b11002c9c945","type":"firebot:chat","active":true,"chatter":"Bot","message":"No one left to claim the prize"},{"id":"ea5c88f0-a8c5-11ed-bd9d-b11002c9c945","type":"firebot:run-effect-list","active":true,"listType":"preset","presetListArgs":{},"effectList":{"list":[],"id":"b85c0c50-a8c4-11ed-bd9d-b11002c9c945"},"presetListId":"5a4b97c0-a810-11ed-a265-c174ad2dc305","effectLabel":"arg needs to remain empty only for this condition"}],"id":"99c01740-a8c5-11ed-bd9d-b11002c9c945"},"label":"no one left to giveaway"}],"otherwiseEffectData":{"list":[{"id":"09a6a2e0-a8c6-11ed-bd9d-b11002c9c945","type":"firebot:conditional-effects","active":true,"ifs":[{"conditionData":{"mode":"exclusive","conditions":[{"type":"firebot:custom","comparisonType":"is","value":null,"leftSideValue":"$customRoleUserCount[giveaway-Winner]","rightSideValue":"0"}]},"effectData":{"list":[{"id":"d344cd60-a813-11ed-a265-c174ad2dc305","type":"firebot:customvariable","active":true,"ttl":0,"name":"giveawayWinner","variableData":"$randomCustomRoleUser[giveaway-Contestant]"},{"id":"d344cd61-a813-11ed-a265-c174ad2dc305","type":"firebot:update-roles","active":true,"viewerType":"custom","addRoleId":"e67d7000-a451-11ed-aa10-1fde4e7052b2","customViewer":"$$giveawayWinner"},{"id":"d344cd62-a813-11ed-a265-c174ad2dc305","type":"firebot:update-roles","active":true,"viewerType":"custom","customViewer":"$$giveawayWinner","removeRoleId":"9cbf47b0-a44a-11ed-aa10-1fde4e7052b2"},{"id":"d344cd63-a813-11ed-a265-c174ad2dc305","type":"firebot:chat","active":true,"chatter":"Bot","message":"And the winner is $$giveawayWinner! You have 60 seconds to claim your prize. Type !claim"}],"id":"43e1f440-a813-11ed-a265-c174ad2dc305"}}],"otherwiseEffectData":{"list":[{"id":"0c006c40-a814-11ed-a265-c174ad2dc305","type":"firebot:customvariable","active":true,"ttl":0,"name":"giveawayWinnerOld","variableData":"$$giveawayWinner"},{"id":"0c009350-a814-11ed-a265-c174ad2dc305","type":"firebot:update-roles","active":true,"viewerType":"custom","addRoleId":"a817cb10-a813-11ed-a265-c174ad2dc305","customViewer":"$$giveawayWinner"},{"id":"0c009351-a814-11ed-a265-c174ad2dc305","type":"firebot:update-roles","active":true,"viewerType":"custom","customViewer":"$$giveawayWinner","removeRoleId":"e67d7000-a451-11ed-aa10-1fde4e7052b2"},{"id":"4ad2e1a0-a814-11ed-a265-c174ad2dc305","type":"firebot:delay","active":true,"delay":"1"},{"id":"10175410-a814-11ed-a265-c174ad2dc305","type":"firebot:customvariable","active":true,"ttl":0,"name":"giveawayWinner","variableData":"$randomCustomRoleUser[giveaway-Contestant]"},{"id":"5d605500-a814-11ed-a265-c174ad2dc305","type":"firebot:update-roles","active":true,"viewerType":"custom","addRoleId":"e67d7000-a451-11ed-aa10-1fde4e7052b2","customViewer":"$$giveawayWinner"},{"id":"60cb9380-a814-11ed-a265-c174ad2dc305","type":"firebot:update-roles","active":true,"viewerType":"custom","addRoleId":"9cbf47b0-a44a-11ed-aa10-1fde4e7052b2","customViewer":"$$giveawayWinner"},{"id":"0c009352-a814-11ed-a265-c174ad2dc305","type":"firebot:chat","active":true,"chatter":"Bot","message":"$$giveawayWinnerOld failed to respond in time.  $$giveawayWinner, you are the new winner! You have 60 seconds to claim your prized. Type !claim"}],"id":"43e06da0-a813-11ed-a265-c174ad2dc305"}}],"id":"99bedec0-a8c5-11ed-bd9d-b11002c9c945"}}],"id":"50d2f8a0-a810-11ed-a265-c174ad2dc305"},"args":[],"sortTags":[],"id":"50d2d190-a810-11ed-a265-c174ad2dc305"},{"name":"gaClaim","effects":{"list":[{"id":"e2135900-a88c-11ed-ac44-d924b0bb91be","type":"firebot:conditional-effects","active":true,"ifs":[{"conditionData":{"mode":"exclusive","conditions":[{"type":"firebot:custom","comparisonType":"is","value":null,"leftSideValue":"$#arg","rightSideValue":"!claim"}]},"effectData":{"list":[{"id":"fb785ad0-a88c-11ed-ac44-d924b0bb91be","type":"firebot:toggle-event","active":true,"toggleType":"disable","selectedGroupName":"General Events","selectedEventId":"5d2809f0-a7f3-11ed-a4b4-2967d01eb3a3"},{"id":"fb785ad1-a88c-11ed-ac44-d924b0bb91be","type":"firebot:chat","active":true,"chatter":"Bot","message":"The giveaway has now ended. Congratulations $$giveawayWinner!"},{"id":"fb785ad2-a88c-11ed-ac44-d924b0bb91be","type":"firebot:customvariable","active":true,"ttl":1,"name":"giveawayEnded","variableData":"false"},{"id":"fb785ad3-a88c-11ed-ac44-d924b0bb91be","type":"firebot:customvariable","active":true,"ttl":1,"name":"giveawayRunning","variableData":"false"},{"id":"fb785ad4-a88c-11ed-ac44-d924b0bb91be","type":"firebot:customvariable","active":true,"ttl":1,"name":"giveawayWinner","variableData":"false"},{"id":"fb785ad5-a88c-11ed-ac44-d924b0bb91be","type":"firebot:customvariable","active":true,"ttl":1,"name":"giveawayWinnerOld","variableData":"false"},{"id":"fb785ad6-a88c-11ed-ac44-d924b0bb91be","type":"firebot:update-roles","active":true,"viewerType":"current","removeAllRoleId":"9cbf47b0-a44a-11ed-aa10-1fde4e7052b2"},{"id":"fb785ad7-a88c-11ed-ac44-d924b0bb91be","type":"firebot:update-roles","active":true,"viewerType":"current","removeAllRoleId":"e67d7000-a451-11ed-aa10-1fde4e7052b2"},{"id":"fb785ad8-a88c-11ed-ac44-d924b0bb91be","type":"firebot:update-roles","active":true,"viewerType":"current","removeAllRoleId":"a817cb10-a813-11ed-a265-c174ad2dc305"},{"id":"fb785ad9-a88c-11ed-ac44-d924b0bb91be","type":"firebot:toggle-timer","active":true,"selectedTimerId":"cb6b0770-a7e2-11ed-8ca2-0937c6eeafde","toggleType":"disable"},{"id":"fb785ada-a88c-11ed-ac44-d924b0bb91be","type":"firebot:delay","active":true,"delay":"3"},{"id":"fb785adb-a88c-11ed-ac44-d924b0bb91be","type":"firebot:toggle-event","active":true,"toggleType":"enable","selectedGroupName":"General Events","selectedEventId":"5d2809f0-a7f3-11ed-a4b4-2967d01eb3a3"}],"id":"e21777b0-a88c-11ed-ac44-d924b0bb91be"},"label":"winner used !claim"}],"otherwiseEffectData":{"list":[{"id":"fb785ad0-a88c-11ed-ac44-d924b0bb91be","type":"firebot:toggle-event","active":true,"toggleType":"disable","selectedGroupName":"General Events","selectedEventId":"5d2809f0-a7f3-11ed-a4b4-2967d01eb3a3"},{"id":"fb785ad1-a88c-11ed-ac44-d924b0bb91be","type":"firebot:chat","active":true,"chatter":"Bot","message":"The giveaway was stopped on purpose"},{"id":"fb785ad2-a88c-11ed-ac44-d924b0bb91be","type":"firebot:customvariable","active":true,"ttl":1,"name":"giveawayEnded","variableData":"false"},{"id":"fb785ad3-a88c-11ed-ac44-d924b0bb91be","type":"firebot:customvariable","active":true,"ttl":1,"name":"giveawayRunning","variableData":"false"},{"id":"fb785ad4-a88c-11ed-ac44-d924b0bb91be","type":"firebot:customvariable","active":true,"ttl":1,"name":"giveawayWinner","variableData":"false"},{"id":"fb785ad5-a88c-11ed-ac44-d924b0bb91be","type":"firebot:customvariable","active":true,"ttl":1,"name":"giveawayWinnerOld","variableData":"false"},{"id":"fb785ad6-a88c-11ed-ac44-d924b0bb91be","type":"firebot:update-roles","active":true,"viewerType":"current","removeAllRoleId":"9cbf47b0-a44a-11ed-aa10-1fde4e7052b2"},{"id":"fb785ad7-a88c-11ed-ac44-d924b0bb91be","type":"firebot:update-roles","active":true,"viewerType":"current","removeAllRoleId":"e67d7000-a451-11ed-aa10-1fde4e7052b2"},{"id":"fb785ad8-a88c-11ed-ac44-d924b0bb91be","type":"firebot:update-roles","active":true,"viewerType":"current","removeAllRoleId":"a817cb10-a813-11ed-a265-c174ad2dc305"},{"id":"fb785ad9-a88c-11ed-ac44-d924b0bb91be","type":"firebot:toggle-timer","active":true,"selectedTimerId":"cb6b0770-a7e2-11ed-8ca2-0937c6eeafde","toggleType":"disable"},{"id":"fb785ada-a88c-11ed-ac44-d924b0bb91be","type":"firebot:delay","active":true,"delay":"3"},{"id":"fb785adb-a88c-11ed-ac44-d924b0bb91be","type":"firebot:toggle-event","active":true,"toggleType":"enable","selectedGroupName":"General Events","selectedEventId":"5d2809f0-a7f3-11ed-a4b4-2967d01eb3a3"}],"id":"e215a2f0-a88c-11ed-ac44-d924b0bb91be"},"effectLabel":"winner/force close check","otherwiseLabel":"!ga ended"}],"id":"5a4b97c1-a810-11ed-a265-c174ad2dc305"},"args":[{"name":"arg"}],"sortTags":[],"id":"5a4b97c0-a810-11ed-a265-c174ad2dc305"}],"timers":[{"active":false,"onlyWhenLive":false,"name":"giveAway-Claim-Timer","interval":60,"requiredChatLines":0,"sortTags":[],"effects":{"list":[{"id":"59a79d50-a815-11ed-a265-c174ad2dc305","type":"firebot:run-effect-list","active":true,"listType":"preset","presetListArgs":{"filePath":"C:\\Users\\ballz\\Desktop\\clipstest","fileName":"gaContestants.txt"},"effectList":{"list":[],"id":"67d94690-a7e7-11ed-a4b4-2967d01eb3a3"},"presetListId":"50d2d190-a810-11ed-a265-c174ad2dc305"}],"id":"a4adbb50-a7e2-11ed-a4b4-2967d01eb3a3"},"id":"cb6b0770-a7e2-11ed-8ca2-0937c6eeafde"}],"viewerRoles":[{"name":"giveaway-Contestant","viewers":[],"id":"9cbf47b0-a44a-11ed-aa10-1fde4e7052b2"},{"name":"giveaway-Winner","viewers":[],"id":"e67d7000-a451-11ed-aa10-1fde4e7052b2"},{"name":"giveaway-Winner-Old","viewers":[],"id":"a817cb10-a813-11ed-a265-c174ad2dc305"}],"quickActions":[]},"requireCurrency":false,"importQuestions":[]}
